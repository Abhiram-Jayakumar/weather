<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title></title>
  <link rel="stylesheet" href="./style.css">
  <script src="https://kit.fontawesome.com/675ad92f7a.js" crossorigin="anonymous"></script>
</head>

<body>
  <div>
    <div class="card">
      <h2>Weather Geo</h2>
      <div class="search">
        <input type="text" id="searchdist" class="search_bar"style="text-transform:uppercase" placeholder="Search">
        <button onclick="search()" type="button"><i class="fa-solid fa-magnifying-glass"></i></button>
      </div>
      <section>
        <div class="" id="result"></div>
      </section>
    </div>
  </div>
</body>
<script>
  
  function search() {
    dist = searchdist.value
    fetch(`https://api.openweathermap.org/data/2.5/weather?q=${dist}&appid=5b4bee0ba241d092159faf007e166080`)
      .then(res => res.json())
      .then(data => displaydata(data))

  }
  function displaydata(distDetails) {
    cname = searchdist.value
    temperature = distDetails.main.temp
    weather = distDetails.weather[0].description
    Main = distDetails.weather[0].main
    wind = distDetails.wind.speed
    lattitude = distDetails.coord.lat
    longitude = distDetails.coord.lon
    Sunrise = distDetails.sys.sunrise
    Sunset = distDetails.sys.sunset
    Icon=distDetails.weather[0].icon



    htmldata = `  <p><i class="fa-solid fa-city"></i>   city name: <span id="cityname" style="text-transform:uppercase">${cname}</span></p>
      <p><i class="fa-solid fa-temperature-high"></i>   Temperature: <span id="temp">${temperature}</span></p>
      <p><i class="fa-solid fa-sun"></i>                weather type: <span id="weather">${weather}</span></p>
      <p><i class="fa-solid fa-cloud"></i>              Main: <span id="main">${Main}</span></p>
      <p><i class="fa-solid fa-wind"></i>               wind speed: <span id="wind">${wind}</span></p>
      <p> <i class="fa-solid fa-location-dot"></i>      lattitude: <span id="latt">${lattitude}</span></p>
      <p><i class="fa-solid fa-location-crosshairs"></i> longitude: <span id="long">${longitude}</span></p>
      <hr>
      <p><img src="./images/icon.png" alt="">           sunrise: <span id="sunrise">${Sunrise}</span></p>
      <p><img src="./images/set.png" alt="">            sunset: <span id="sunrise">${Sunset}</span></p>
      <p> <img src="./images/partly_cloudy.png" alt="">icon: <span id="icon">${Icon}  <a href="https://openweathermap.org/weather-conditions#Weather-Condition-Codes-2">Click here for more details</a>
</span></p>`
      


    result.innerHTML = htmldata

    document.body.style.backgroundImage =
      "url('https://source.unsplash.com/1600x900/?" + cname + "')";

  }
console.log(testNum(-5));
</script>

</html>